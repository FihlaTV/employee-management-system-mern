{"version":3,"sources":["../../server/helpers/employeeHelper.js"],"names":["validIssueStatus","New","Open","Assigned","Fixed","Verified","Closed","employeeFieldType","status","owner","effort","created","completionDate","title","comment","convertemployee","employee","Date","cleanupIssue","cleanedUpIssue","Object","keys","forEach","field","validateIssue","errors","push","length","join","convertIssue"],"mappings":"AAAA;;;;;AAEA,MAAMA,mBAAmB;AACrBC,SAAK,IADgB;AAErBC,UAAM,IAFe;AAGrBC,cAAU,IAHW;AAIrBC,WAAO,IAJc;AAKrBC,cAAU,IALW;AAMrBC,YAAQ;AANa,CAAzB;AAQA,MAAMC,oBAAoB;AACtBC,YAAQ,UADc;AAEtBC,WAAO,UAFe;AAGtBC,YAAQ,UAHc;AAItBC,aAAS,UAJa;AAKtBC,oBAAgB,UALM;AAMtBC,WAAO,UANe;AAOtBC,aAAS;AAPa,CAA1B;;AAUA,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAC/B,QAAIA,SAASL,OAAb,EAAsBK,SAASL,OAAT,GAAmB,IAAIM,IAAJ,CAASD,SAASL,OAAlB,CAAnB;AACtB,QAAIK,SAASJ,cAAb,EAA6BI,SAASJ,cAAT,GAA0B,IAAIK,IAAJ,CAASD,SAASJ,cAAlB,CAA1B;AAC7B,WAAOM,aAAaF,QAAb,CAAP;AACH;;AAED,SAASE,YAAT,CAAsBF,QAAtB,EAAgC;AAC5B,UAAMG,iBAAiB,EAAvB;AACA;AACAC,WAAOC,IAAP,CAAYL,QAAZ,EAAsBM,OAAtB,CAA8BC,SAAS;AACnC,YAAIhB,kBAAkBgB,KAAlB,CAAJ,EAA8BJ,eAAeI,KAAf,IAAwBP,SAASO,KAAT,CAAxB;AACjC,KAFD;AAGA,WAAOJ,cAAP;AACH;;AAED,SAASK,aAAT,CAAuBR,QAAvB,EAAiC;AAC7B,UAAMS,SAAS,EAAf;AACAL,WAAOC,IAAP,CAAYd,iBAAZ,EAA+Be,OAA/B,CAAuCC,SAAS;AAC5C,YAAIhB,kBAAkBgB,KAAlB,MAA6B,UAA7B,IAA2C,CAACP,SAASO,KAAT,CAAhD,EAAiE;AAC7DE,mBAAOC,IAAP,CAAa,4BAA2BH,KAAM,EAA9C;AACH;AACJ,KAJD;;AAMA,QAAI,CAACvB,iBAAiBgB,SAASR,MAA1B,CAAL,EAAwC;AACpC;AACAiB,eAAOC,IAAP,CAAa,GAAEV,SAASR,MAAO,yBAA/B;AACH;AACD,WAAQiB,OAAOE,MAAP,GAAgBF,OAAOG,IAAP,CAAY,IAAZ,CAAhB,GAAoC,IAA5C;AACH;kBACc;AACXJ,iBADW;AAEXN,gBAFW;AAGXW;AAHW,C","file":"employeeHelper.js","sourcesContent":["'use strict';\n\nconst validIssueStatus = {\n    New: true,\n    Open: true,\n    Assigned: true,\n    Fixed: true,\n    Verified: true,\n    Closed: true,\n};\nconst employeeFieldType = {\n    status: 'required',\n    owner: 'required',\n    effort: 'optional',\n    created: 'required',\n    completionDate: 'optional',\n    title: 'required',\n    comment: 'optional',\n}\n\nfunction convertemployee(employee) {\n    if (employee.created) employee.created = new Date(employee.created);\n    if (employee.completionDate) employee.completionDate = new Date(employee.completionDate);\n    return cleanupIssue(employee);\n}\n\nfunction cleanupIssue(employee) {\n    const cleanedUpIssue = {};\n    // The Object.keys() method returns an array of a given object's own enumerable properties\n    Object.keys(employee).forEach(field => {\n        if (employeeFieldType[field]) cleanedUpIssue[field] = employee[field];\n    });\n    return cleanedUpIssue;\n}\n\nfunction validateIssue(employee) {\n    const errors = [];\n    Object.keys(employeeFieldType).forEach(field => {\n        if (employeeFieldType[field] === 'required' && !employee[field]) {\n            errors.push(`Missing mandatory field: ${field}`);\n        }\n    });\n\n    if (!validIssueStatus[employee.status]) {\n        // template string ES2015 new feature\n        errors.push(`${employee.status} is not a valid status.`);\n    }\n    return (errors.length ? errors.join('; ') : null);\n}\nexport default {\n    validateIssue,\n    cleanupIssue,\n    convertIssue\n};\n"]}