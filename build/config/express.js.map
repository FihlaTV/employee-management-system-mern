{"version":3,"sources":["../../server/config/express.js"],"names":["module","exports","db","app","use","static","json","process","env","NODE_ENV","get"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,UAAUC,EAAV,EAAc;AAC3B,UAAMC,MAAM,wBAAZ;AACAA,QAAIC,GAAJ,CAAQ,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACAF,QAAIC,GAAJ,CAAQ,qBAAWE,IAAX,EAAR;;AAGA,QAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACxC;AACAN,YAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACH,KAHD,MAGO,IAAIG,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AAC9CN,YAAIC,GAAJ,CAAQ,4BAAR;AACH;;AAED;AACA;AACAD,QAAIO,GAAJ,CAAQ,GAAR;AACAP,QAAIC,GAAJ,CAAQ,YAAR;AACAD,QAAIC,GAAJ,CAAQ,iBAAR;AACAD,QAAIC,GAAJ,CAAQ,eAAR;;AAEA,WAAOD,GAAP;AACH,CArBD","file":"express.js","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport morgan from \"morgan\";\nimport compression from 'compression';\nimport path from 'path';\n\nimport issue from '../routes/issue';\nimport index from '../routes/index';\nimport department from '../routes/department';\nimport employee from '../routes/employee';\n\nmodule.exports = function (db) {\n    const app = express();\n    app.use(express.static('static'));\n    app.use(bodyParser.json());\n\n\n    if (process.env.NODE_ENV === 'development') {\n        //use logger\n        app.use(morgan('dev'));\n    } else if (process.env.NODE_ENV === 'production') {\n        app.use(compression());\n    }\n\n    //add routes\n    // It has to be placed at the end of all routes\n    app.get('/', index);\n    app.use('/api/issue', issue);\n    app.use('/api/department', department);\n    app.use('/api/employee', employee);\n\n    return app;\n}\n"]}