{"version":3,"sources":["../../server/config/passport.js"],"names":["passport","require","mongoose","module","exports","User","model","serializeUser","user","done","id","deserializeUser","findOne","_id","err"],"mappings":"AAAA;AACA;;AAEA;;AACA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;;AAEA;AACAE,OAAOC,OAAP,GAAiB,YAAW;AAC3B;AACA,KAAIC,OAAOH,SAASI,KAAT,CAAe,MAAf,CAAX;;AAEA;AACAN,UAASO,aAAT,CAAuB,UAASC,IAAT,EAAeC,IAAf,EAAqB;AAC3CA,OAAK,IAAL,EAAWD,KAAKE,EAAhB;AACA,EAFD;;AAIA;AACAV,UAASW,eAAT,CAAyB,UAASD,EAAT,EAAaD,IAAb,EAAmB;AAC3CJ,OAAKO,OAAL,CAAa;AACZC,QAAKH;AADO,GAAb,EAEG,iBAFH,EAEsB,UAASI,GAAT,EAAcN,IAAd,EAAoB;AACzCC,QAAKK,GAAL,EAAUN,IAAV;AACA,GAJD;AAKA,EAND;;AAQA;AACAP,SAAQ,uBAAR;AACAA,SAAQ,yBAAR;AACAA,SAAQ,0BAAR;AACAA,SAAQ,wBAAR;AACA,CAvBD","file":"passport.js","sourcesContent":["// Invoke 'strict' JavaScript mode\n'use strict';\n\n// Load the module dependencies\nvar passport = require('passport');\nvar\tmongoose = require('mongoose');\n\n// Define the Passport configuration method\nmodule.exports = function() {\n\t// Load the 'User' model\n\tvar User = mongoose.model('User');\n\n\t// Use Passport's 'serializeUser' method to serialize the user id\n\tpassport.serializeUser(function(user, done) {\n\t\tdone(null, user.id);\n\t});\n\n\t// Use Passport's 'deserializeUser' method to load the user document\n\tpassport.deserializeUser(function(id, done) {\n\t\tUser.findOne({\n\t\t\t_id: id\n\t\t}, '-password -salt', function(err, user) {\n\t\t\tdone(err, user);\n\t\t});\n\t});\n\n\t// Load Passport's strategies configuration files\n\trequire('./strategies/local.js')();\n\trequire('./strategies/twitter.js')();\n\trequire('./strategies/facebook.js')();\n\trequire('./strategies/google.js')();\n};\n"]}